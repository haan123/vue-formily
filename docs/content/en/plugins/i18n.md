---
title: I18n
description: 'I18n'
position: 23
category: Plugins
---

## I18n Plugin
The localization plugin, can be used as the **localizer** for **vue-formily**.

## Install
### In Vue Formily Installation
```typescript
import Vue from 'vue';
import VueFormily from 'vue-formily';
import i18n from 'vue-formily/plugins/i18n';
import enUS from 'vue-formily/locale/en-US';

Vue.use(VueFormily, {
  plugins: [
    // With default options
    i18n

    // Or with custom options
    {
      ...i18n,
      options: {
        // Default is `en-US`
        defaultLocale: 'en-US';
        // The list of locale objects
        locales: [enUS];
      } as I18nOptions
    }
  ]
});
```

### In Runtime
```typescript
import i18n from 'vue-formily/plugins/i18n';
import { plug } from 'vue-formily';

plug(i18n, {} as I18nOptions);
```

## Options
```typescript
type Resource = Record<string, string | string[]>;
type Locale = {
  code: string;
  localize?: Record<string, any>;
  resource?: Resource;
};

type I18nOptions = {
  defaultLocale: string;
  locales?: Locale[];
}
```

## Basic Usage
### Stand Along
```typescript
import i18n, { translate, addLocale, switchLocale } from 'vue-formily/plugins/i18n';
import { plug } from 'vue-formily';

// Install plugin and locale
plug(i18n, {
  locales: [{
    ...enUS,
    resource: {
      hi: 'Hi, {name}.',
      weekday: 'Today is {date[6]}.',
      validation: {
        dupplicated: '{field} is invalid.'
      }
    },
    // The data will be used to translate the messages above
    localize: {
      name: 'Jo',
      date: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
    }
  }]
} as I18nOptions);

translate('hi'); // Hi, Jo.
// Nested object
// The localize data can be checked directly by 2nd parameter
translate('validation.dupplicated', {
  field: 'Email'
}); // Email is invalid.
// Array
translate('weekday[6]'); // Today is Saturday.

addLocale({
  code: 'fr-ca',
  resource: {
    hi: 'Bonjour, {name}.'
  },
  localize: {
    name: 'Jo'
  }
});

switchLocale('fr-ca');

translate('hi') // Bonjour, Jo.
```

### In Vue Formily
In **vue-formily**, the **localizer** is using in the [Rule](/api/rule), [Field](/api/field), and [props property](/api/element#properties) for all form elements. Here are some examples:
- [Localize Using Vue Formily I18n](/examples/localize#using-vue-formily-i18n)
- [Localize Using External Library](/examples/localize#using-external-library)


## Methods
### translate
Translate with the resource key.

**Signatures**
```typescript
translate(
  key: string,
  data?: Record<string, any> | Record<string, any>[],
  { locale = _activeLocale }: { locale?: string } = {}
): string;
```

<alert>
If <b>locale</b> is not provided, the plugin will use the current active locale. The default locale is <b>en-US</b>
</alert>

**Parameters**
- **key** - The registered resource key.
- **data** - The data to use in the resource message. These datas will be merged with `locale.localize` data, then do the localization.
- **options** - The options.
```typescript
{
  // The locale that mapped with locale when installing this plugin
  locale?: string;
}
```

### switchLocale
Switch to another registered locale.

**Signatures**
```typescript
switchLocale(locale: string): void;
```

**Parameters**
- **locale** - The resource key.
- **options** - The options.
```typescript
{
  // The locale that mapped with locale when installing this plugin
  locale?: string;
}
```

### addLocale
Add more locale

**Signatures**
```typescript
addLocale(locale: Locale): void;
```

**Parameters**
- **locale** - The locale object.
```typescript
addLocale(locale: Locale): void;

type Locale = {
  // The locale code, e.g, en-US
  code: string;
  // The object will be used as localization data
  localize?: Record<string, any>;
  // The resource messages
  resource?: Resource;
};

// Example:
const locale: Locale = {
  code: 'en-US',
  localize: {
    name: 'Josh'
  },
  resource: {
    test: 'Hi, {name}.'
  }
};

addLocale(locale);
translate('name'); // Hi, Josh.
```

### removeLocale
Remove locale.

**Signatures**
```typescript
removeLocale(locale: string): void;
```

**Parameters**
- **locale** - The locale code.

### getLocale
Get registered locale.

**Signatures**
```typescript
getLocale(locale: string): Locale;
```

**Parameters**
- **locale** - The locale code.

## Related concepts
- [plug](/api/helpers#plug)
